<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 R Script Walkthrough | CoMarker | The Manual</title>
  <meta name="description" content="Chapter 4 R Script Walkthrough | CoMarker | The Manual" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 R Script Walkthrough | CoMarker | The Manual" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 R Script Walkthrough | CoMarker | The Manual" />
  
  
  

<meta name="author" content="ElÃ©onore Schneegans1, Samuel Boulger1, Vicky Chau1, Nurun Fancy1, Johanna Jackson1, Paul M. Matthews1" />


<meta name="date" content="2022-09-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="imagej-script-walkthrough.html"/>
<link rel="next" href="instructions---from-start-to-finish.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CoMarker | The Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#the-purpose-of-comarker"><i class="fa fa-check"></i>The Purpose of CoMarker</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="functions-and-capabilities.html"><a href="functions-and-capabilities.html"><i class="fa fa-check"></i><b>1</b> Functions and Capabilities</a>
<ul>
<li class="chapter" data-level="1.1" data-path="functions-and-capabilities.html"><a href="functions-and-capabilities.html#what-does-comarker-do"><i class="fa fa-check"></i><b>1.1</b> What does CoMarker do?</a></li>
<li class="chapter" data-level="1.2" data-path="functions-and-capabilities.html"><a href="functions-and-capabilities.html#functionality-comparison"><i class="fa fa-check"></i><b>1.2</b> Functionality Comparison</a></li>
<li class="chapter" data-level="1.3" data-path="functions-and-capabilities.html"><a href="functions-and-capabilities.html#capabilities"><i class="fa fa-check"></i><b>1.3</b> Capabilities</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="imagefile-formatting.html"><a href="imagefile-formatting.html"><i class="fa fa-check"></i><b>2</b> Image/File Formatting</a>
<ul>
<li class="chapter" data-level="2.1" data-path="imagefile-formatting.html"><a href="imagefile-formatting.html#image-formatting"><i class="fa fa-check"></i><b>2.1</b> Image Formatting</a></li>
<li class="chapter" data-level="2.2" data-path="imagefile-formatting.html"><a href="imagefile-formatting.html#file-formatting"><i class="fa fa-check"></i><b>2.2</b> File Formatting</a></li>
<li class="chapter" data-level="2.3" data-path="imagefile-formatting.html"><a href="imagefile-formatting.html#metadata-formatting"><i class="fa fa-check"></i><b>2.3</b> Metadata Formatting</a></li>
<li class="chapter" data-level="2.4" data-path="imagefile-formatting.html"><a href="imagefile-formatting.html#example-directory-format"><i class="fa fa-check"></i><b>2.4</b> Example Directory Format</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html"><i class="fa fa-check"></i><b>3</b> ImageJ Script Walkthrough</a>
<ul>
<li class="chapter" data-level="3.1" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#specifying-parameters"><i class="fa fa-check"></i><b>3.1</b> Specifying Parameters</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#dialog-box-13"><i class="fa fa-check"></i><b>3.1.1</b> Dialog Box (1/3)</a></li>
<li class="chapter" data-level="3.1.2" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#dialog-box-23"><i class="fa fa-check"></i><b>3.1.2</b> Dialog Box (2/3)</a></li>
<li class="chapter" data-level="3.1.3" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#dialog-box-33"><i class="fa fa-check"></i><b>3.1.3</b> Dialog Box (3/3)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#region-of-interest"><i class="fa fa-check"></i><b>3.2</b> Region of Interest</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#overview-of-steps"><i class="fa fa-check"></i><b>3.2.1</b> Overview of Steps</a></li>
<li class="chapter" data-level="3.2.2" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#gaussian-blur"><i class="fa fa-check"></i><b>3.2.2</b> Gaussian Blur</a></li>
<li class="chapter" data-level="3.2.3" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#watershed-transform"><i class="fa fa-check"></i><b>3.2.3</b> Watershed Transform</a></li>
<li class="chapter" data-level="3.2.4" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#particle-analysis"><i class="fa fa-check"></i><b>3.2.4</b> Particle Analysis</a></li>
<li class="chapter" data-level="3.2.5" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#enlargement"><i class="fa fa-check"></i><b>3.2.5</b> Enlargement</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#nuclei"><i class="fa fa-check"></i><b>3.3</b> Nuclei</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#thresholding"><i class="fa fa-check"></i><b>3.3.1</b> Thresholding</a></li>
<li class="chapter" data-level="3.3.2" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#watershed"><i class="fa fa-check"></i><b>3.3.2</b> Watershed</a></li>
<li class="chapter" data-level="3.3.3" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#particle-analysis-1"><i class="fa fa-check"></i><b>3.3.3</b> Particle Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#reference-marker"><i class="fa fa-check"></i><b>3.4</b> Reference Marker</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#thresholding-1"><i class="fa fa-check"></i><b>3.4.1</b> Thresholding</a></li>
<li class="chapter" data-level="3.4.2" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#particle-analysis-2"><i class="fa fa-check"></i><b>3.4.2</b> Particle Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#colocalisation-markers"><i class="fa fa-check"></i><b>3.5</b> Colocalisation Markers</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#thresholding-2"><i class="fa fa-check"></i><b>3.5.1</b> Thresholding</a></li>
<li class="chapter" data-level="3.5.2" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#particle-analysis-3"><i class="fa fa-check"></i><b>3.5.2</b> Particle Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="imagej-script-walkthrough.html"><a href="imagej-script-walkthrough.html#output"><i class="fa fa-check"></i><b>3.6</b> Output</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-script-walkthrough.html"><a href="r-script-walkthrough.html"><i class="fa fa-check"></i><b>4</b> R Script Walkthrough</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-script-walkthrough.html"><a href="r-script-walkthrough.html#necessary-r-packages"><i class="fa fa-check"></i><b>4.1</b> Necessary R Packages</a></li>
<li class="chapter" data-level="4.2" data-path="r-script-walkthrough.html"><a href="r-script-walkthrough.html#input-parameters"><i class="fa fa-check"></i><b>4.2</b> Input Parameters</a></li>
<li class="chapter" data-level="4.3" data-path="r-script-walkthrough.html"><a href="r-script-walkthrough.html#quality-control"><i class="fa fa-check"></i><b>4.3</b> Quality Control</a></li>
<li class="chapter" data-level="4.4" data-path="r-script-walkthrough.html"><a href="r-script-walkthrough.html#html-output"><i class="fa fa-check"></i><b>4.4</b> HTML Output</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="instructions---from-start-to-finish.html"><a href="instructions---from-start-to-finish.html"><i class="fa fa-check"></i><b>5</b> Instructions - From Start to Finish</a>
<ul>
<li class="chapter" data-level="5.1" data-path="instructions---from-start-to-finish.html"><a href="instructions---from-start-to-finish.html#download-the-repository"><i class="fa fa-check"></i><b>5.1</b> Download the Repository</a></li>
<li class="chapter" data-level="5.2" data-path="instructions---from-start-to-finish.html"><a href="instructions---from-start-to-finish.html#run-imagej"><i class="fa fa-check"></i><b>5.2</b> Run ImageJ</a></li>
<li class="chapter" data-level="5.3" data-path="instructions---from-start-to-finish.html"><a href="instructions---from-start-to-finish.html#run-r-studio"><i class="fa fa-check"></i><b>5.3</b> Run R Studio</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="instructions---using-the-command-line.html"><a href="instructions---using-the-command-line.html"><i class="fa fa-check"></i><b>6</b> Instructions - Using the Command Line</a>
<ul>
<li class="chapter" data-level="6.1" data-path="instructions---using-the-command-line.html"><a href="instructions---using-the-command-line.html#download-the-repository-1"><i class="fa fa-check"></i><b>6.1</b> Download the Repository</a></li>
<li class="chapter" data-level="6.2" data-path="instructions---using-the-command-line.html"><a href="instructions---using-the-command-line.html#input-parameters-1"><i class="fa fa-check"></i><b>6.2</b> Input Parameters</a></li>
<li class="chapter" data-level="6.3" data-path="instructions---using-the-command-line.html"><a href="instructions---using-the-command-line.html#open-a-terminal-window"><i class="fa fa-check"></i><b>6.3</b> Open a Terminal Window</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="validation.html"><a href="validation.html"><i class="fa fa-check"></i><b>7</b> Validation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="validation.html"><a href="validation.html#manual-counts-comparison"><i class="fa fa-check"></i><b>7.1</b> Manual Counts Comparison</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="validation.html"><a href="validation.html#cd68---colocalisation-marker"><i class="fa fa-check"></i><b>7.1.1</b> CD68 - Colocalisation Marker</a></li>
<li class="chapter" data-level="7.1.2" data-path="validation.html"><a href="validation.html#glut1---region-of-interest"><i class="fa fa-check"></i><b>7.1.2</b> GLUT1 - Region of Interest</a></li>
<li class="chapter" data-level="7.1.3" data-path="validation.html"><a href="validation.html#iba1---reference-marker"><i class="fa fa-check"></i><b>7.1.3</b> Iba1 - Reference Marker</a></li>
<li class="chapter" data-level="7.1.4" data-path="validation.html"><a href="validation.html#amyloid-beta---region-of-interest"><i class="fa fa-check"></i><b>7.1.4</b> Amyloid-beta - Region of Interest</a></li>
<li class="chapter" data-level="7.1.5" data-path="validation.html"><a href="validation.html#intraclass-correlation"><i class="fa fa-check"></i><b>7.1.5</b> Intraclass Correlation</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CoMarker | The Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-script-walkthrough" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> R Script Walkthrough<a href="r-script-walkthrough.html#r-script-walkthrough" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This section of the manual will provide an overview of the steps taken in the R script, starting with the inputs required for the script to function.</p>
<div id="necessary-r-packages" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Necessary R Packages<a href="r-script-walkthrough.html#necessary-r-packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Below are the packages required for the pipeline to run. Copy and paste the section below in order to install all necessary packages.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="r-script-walkthrough.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;tidyverse&#39;</span>)</span>
<span id="cb1-2"><a href="r-script-walkthrough.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;readr&#39;</span>)</span>
<span id="cb1-3"><a href="r-script-walkthrough.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;stringr&#39;</span>)</span>
<span id="cb1-4"><a href="r-script-walkthrough.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb1-5"><a href="r-script-walkthrough.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;rqdatatable&#39;</span>)</span>
<span id="cb1-6"><a href="r-script-walkthrough.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;rlist&#39;</span>)</span>
<span id="cb1-7"><a href="r-script-walkthrough.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb1-8"><a href="r-script-walkthrough.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;gridExtra&#39;</span>)</span>
<span id="cb1-9"><a href="r-script-walkthrough.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;ggsignif&#39;</span>)</span>
<span id="cb1-10"><a href="r-script-walkthrough.html#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;ggpubr&#39;</span>)</span>
<span id="cb1-11"><a href="r-script-walkthrough.html#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;paletteer&#39;</span>)</span>
<span id="cb1-12"><a href="r-script-walkthrough.html#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;plyr&#39;</span>)</span>
<span id="cb1-13"><a href="r-script-walkthrough.html#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;knitr&#39;</span>)</span>
<span id="cb1-14"><a href="r-script-walkthrough.html#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;data.table&#39;</span>)</span>
<span id="cb1-15"><a href="r-script-walkthrough.html#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;plotly&#39;</span>)</span>
<span id="cb1-16"><a href="r-script-walkthrough.html#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;clinUtils&#39;</span>)</span>
<span id="cb1-17"><a href="r-script-walkthrough.html#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;rlist&#39;</span>)</span>
<span id="cb1-18"><a href="r-script-walkthrough.html#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;rmdformats&#39;</span>)</span></code></pre></div>
</div>
<div id="input-parameters" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Input Parameters<a href="r-script-walkthrough.html#input-parameters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Input the relevant parameters into the coloc_wrapper function of the R code. There is an example input file in the Github repository.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="r-script-walkthrough.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coloc_wrapper</span>(<span class="at">image_directory=</span><span class="st">&quot;/Users/samboulger/Desktop/Manual Counts/&quot;</span>,</span>
<span id="cb2-2"><a href="r-script-walkthrough.html#cb2-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">results_directory=</span><span class="st">&quot;/Users/samboulger/Desktop/Manual Counts/&quot;</span>,</span>
<span id="cb2-3"><a href="r-script-walkthrough.html#cb2-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">metadata_directory=</span><span class="st">&#39;/Users/samboulger/Desktop/Data/&#39;</span>,</span>
<span id="cb2-4"><a href="r-script-walkthrough.html#cb2-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">CoMarker_directory=</span><span class="st">&#39;/Users/samboulger/OneDrive - Nexus365/Imperial/CoMarker Script/&#39;</span>,</span>
<span id="cb2-5"><a href="r-script-walkthrough.html#cb2-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">DNA=</span><span class="cn">TRUE</span>,</span>
<span id="cb2-6"><a href="r-script-walkthrough.html#cb2-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">ROI=</span><span class="cn">TRUE</span>,</span>
<span id="cb2-7"><a href="r-script-walkthrough.html#cb2-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">number_marker=</span><span class="dv">2</span>,</span>
<span id="cb2-8"><a href="r-script-walkthrough.html#cb2-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">reference_marker=</span><span class="st">&quot;Iba1&quot;</span>,</span>
<span id="cb2-9"><a href="r-script-walkthrough.html#cb2-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">marker1=</span><span class="st">&quot;CD68&quot;</span>,</span>
<span id="cb2-10"><a href="r-script-walkthrough.html#cb2-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">marker2=</span><span class="st">&#39;HLA-DR&#39;</span>,</span>
<span id="cb2-11"><a href="r-script-walkthrough.html#cb2-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">marker3=</span><span class="st">&#39;&#39;</span>,</span>
<span id="cb2-12"><a href="r-script-walkthrough.html#cb2-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">marker4=</span><span class="st">&#39;&#39;</span>,</span>
<span id="cb2-13"><a href="r-script-walkthrough.html#cb2-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">marker5=</span><span class="st">&#39;&#39;</span>,</span>
<span id="cb2-14"><a href="r-script-walkthrough.html#cb2-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">region_of_interest=</span><span class="st">&#39;Ab&#39;</span>,</span>
<span id="cb2-15"><a href="r-script-walkthrough.html#cb2-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">outcome=</span><span class="st">&#39;trem2_all&#39;</span>,</span>
<span id="cb2-16"><a href="r-script-walkthrough.html#cb2-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">remove_outliers=</span><span class="cn">TRUE</span>,</span>
<span id="cb2-17"><a href="r-script-walkthrough.html#cb2-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">outliers_threshold=</span><span class="st">&#39;3.5&#39;</span>)</span></code></pre></div>
<p>Specify the image directory, results directory, metadata directory, the directory in which the CoMarker folder is stored, as well as whether there are DNA and ROI markers (TRUE or FALSE), the number of markers, the reference markers, colocalisation markers, region of interest, and the outcome (from the metadata). Leave blank any sections that are not required, such as any additional markers or region_of_interest if you selected to not have one.</p>
<p>It is important to ensure that âCoMarker_directoryâ is set to the directory of the main folder on your device. The main folder must include the âFunctionsâ and âHTML Reportsâ folders. This naming is crucial for the R script to run.</p>
<p>The wrapper function will either need to be sourced or ran before the function will operate.</p>
</div>
<div id="quality-control" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Quality Control<a href="r-script-walkthrough.html#quality-control" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The script has a built-in image-flagging section which identifies images containing extreme count outliers. The threshold for detecting outliers is to be specified by the user (to be inputted as the number of standard deviations from the mean), as well as whether to remove the flagged images from the analysis. A table of the detected images is presented in the output report. More often than not, images with flagged counts are of poor quality and should not be considered in the analysis.</p>
</div>
<div id="html-output" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> HTML Output<a href="r-script-walkthrough.html#html-output" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once the R script has finished running, a report named âCoMarker_Analysis_Reportâ will be created in a report folder within the results directory. Open this report in the web browser and you will be able to easily visualise the analysis.</p>
<p>The report is separated into sections for each marker, as well as a section highlighting any significant results. By using the table of contents, the user can quickly skip to a desired section.</p>
<p>Box plots are created for pretty much every useful ROI-reference marker-colocalisation marker combination. On each box plot, statistical significance is annotated, such that:</p>
<p>ns = non-significant</p>
<p>* = p&lt;0.05</p>
<p>** = p&lt;0.01</p>
<p>*** = p&lt;0.001</p>
<p>The report will be overwritten if the analysis is repeatedly performed on the same folder - renaming the report will prevent it from being deleted when a new one is produced.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="imagej-script-walkthrough.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="instructions---from-start-to-finish.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/eleonore-schneeg/CoMarker/edit/master/05-R_walkthrough.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/eleonore-schneeg/CoMarker/blob/master/05-R_walkthrough.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
